{"version":3,"file":"static/webpack/2.ea22b98f5969b2dd8628.hot-update.js","sources":["webpack:///./components/nav/menuSideEffects.js"],"sourcesContent":["import $ from 'jquery';\nimport addEasing from './easing';\n\n// Function for block height 100%\nconst height_line = (height_object, height_donor) => {\n  height_object.height(height_donor.height());\n  height_object.css({\n    'line-height': height_donor.height() + 'px',\n  });\n};\n\nconst init_classic_menu = () => {\n  const mobile_nav = $('.mobile-nav');\n  const desktop_nav = $('.desktop-nav');\n  height_line($('.inner-nav > ul > li > a'), $('.main-nav'));\n  height_line(mobile_nav, $('.main-nav'));\n\n  mobile_nav.css({\n    width: $('.main-nav').height() + 'px',\n  });\n\n  // Transpaner menu\n\n  if ($('.main-nav').hasClass('transparent')) {\n    $('.main-nav').addClass('js-transparent');\n  }\n\n  $(window).scroll(function() {\n    if ($(window).scrollTop() > 10) {\n      $('.js-transparent').removeClass('transparent');\n      $('.main-nav, .nav-logo-wrap .logo, .mobile-nav').addClass(\n        'small-height'\n      );\n    } else {\n      $('.js-transparent').addClass('transparent');\n      $('.main-nav, .nav-logo-wrap .logo, .mobile-nav').removeClass(\n        'small-height'\n      );\n    }\n  });\n\n  // Mobile menu toggle\n\n  mobile_nav.off('click');\n  mobile_nav.click(function() {\n    if (desktop_nav.hasClass('js-opened')) {\n      desktop_nav.slideUp('slow', 'easeOutExpo').removeClass('js-opened');\n      $(this).removeClass('active');\n    } else {\n      desktop_nav.slideDown('slow', 'easeOutQuart').addClass('js-opened');\n      $(this).addClass('active');\n\n      // Fix for responsive menu\n      if ($('.main-nav').hasClass('not-top')) {\n        $(window).scrollTo('.main-nav', 'slow');\n      }\n    }\n  });\n\n  $('.desktop-nav')\n      .find('a:not(.mn-has-sub)').off('click');\n\n  $('.desktop-nav')\n    .find('a:not(.mn-has-sub)')\n    .click(function() {\n      if (mobile_nav.hasClass('active')) {\n        desktop_nav.slideUp('slow', 'easeOutExpo').removeClass('js-opened');\n        mobile_nav.removeClass('active');\n      }\n    });\n\n  // Sub menu\n\n  const mnHasSub = $('.mn-has-sub');\n  let mnThisLi;\n\n  $('.mobile-on .mn-has-sub')\n    .find('.fa:first')\n    .removeClass('fa-angle-right')\n    .addClass('fa-angle-down');\n\n  mnHasSub.off('click');\n  mnHasSub.click(function() {\n    if ($('.main-nav').hasClass('mobile-on')) {\n      mnThisLi = $(this).parent('li:first');\n      if (mnThisLi.hasClass('js-opened')) {\n        mnThisLi.find('.mn-sub:first').slideUp(function() {\n          mnThisLi.removeClass('js-opened');\n          mnThisLi\n            .find('.mn-has-sub')\n            .find('.fa:first')\n            .removeClass('fa-angle-up')\n            .addClass('fa-angle-down');\n        });\n      } else {\n        $(this)\n          .find('.fa:first')\n          .removeClass('fa-angle-down')\n          .addClass('fa-angle-up');\n        mnThisLi.addClass('js-opened');\n        mnThisLi.find('.mn-sub:first').slideDown();\n      }\n\n      return false;\n    } else {\n    }\n  });\n\n  mnThisLi = mnHasSub.parent('li');\n  mnThisLi.hover(\n    function() {\n      if (!$('.main-nav').hasClass('mobile-on')) {\n        $(this)\n          .find('.mn-sub:first')\n          .stop(true, true)\n          .fadeIn('fast');\n      }\n    },\n    function() {\n      if (!$('.main-nav').hasClass('mobile-on')) {\n        $(this)\n          .find('.mn-sub:first')\n          .stop(true, true)\n          .delay(100)\n          .fadeOut('fast');\n      }\n    }\n  );\n\n  /* Keyboard navigation for main menu */\n\n  $('.inner-nav a').focus(function() {\n    if (!$('.main-nav').hasClass('mobile-on')) {\n      $(this)\n        .parent('li')\n        .parent()\n        .children()\n        .find('.mn-sub:first')\n        .stop(true, true)\n        .delay(100)\n        .fadeOut('fast');\n    }\n  });\n\n  $('.inner-nav a')\n    .first()\n    .keydown(function(e) {\n      if (!$('.main-nav').hasClass('mobile-on')) {\n        if (e.shiftKey && e.keyCode == 9) {\n          $(this)\n            .parent('li')\n            .find('.mn-sub:first')\n            .stop(true, true)\n            .delay(100)\n            .fadeOut('fast');\n        }\n      }\n    });\n\n  $('.mn-sub li:last a').keydown(function(e) {\n    if (!$('.main-nav').hasClass('mobile-on')) {\n      if (!e.shiftKey && e.keyCode == 9) {\n        $(this)\n          .parent('li')\n          .parent()\n          .stop(true, true)\n          .delay(100)\n          .fadeOut('fast');\n      }\n    }\n  });\n\n  $(document).keydown(function(e) {\n    if (!$('.main-nav').hasClass('mobile-on')) {\n      if (e.keyCode == 27) {\n        if (\n          mnHasSub\n            .parent('li')\n            .find('.mn-sub:first li .mn-sub')\n            .is(':visible')\n        ) {\n          mnHasSub\n            .parent('li')\n            .find('.mn-sub:first li .mn-sub')\n            .stop(true, true)\n            .delay(100)\n            .fadeOut('fast');\n        } else {\n          mnHasSub\n            .parent('li')\n            .find('.mn-sub:first')\n            .stop(true, true)\n            .delay(100)\n            .fadeOut('fast');\n        }\n      }\n    }\n  });\n\n  mnHasSub.focus(function() {\n    if (!$('.main-nav').hasClass('mobile-on')) {\n      $(this)\n        .parent('li')\n        .find('.mn-sub:first')\n        .stop(true, true)\n        .fadeIn('fast');\n    }\n  });\n};\n\nconst init_classic_menu_resize = () => {\n  // Mobile menu max height\n  $('.mobile-on .desktop-nav > ul').css(\n    'max-height',\n    $(window).height() - $('.main-nav').height() - 20 + 'px'\n  );\n\n  // Mobile menu style toggle\n  if ($(window).width() <= 1024) {\n    $('.main-nav').addClass('mobile-on');\n  } else if ($(window).width() > 1024) {\n    $('.main-nav').removeClass('mobile-on');\n    $('.desktop-nav').show();\n  }\n};\n\nconst menuSideEffects = () => {\n  if (typeof window === 'undefined' || typeof document === 'undefined') {\n    return;\n  }\n\n  if (!$.easing.easeInCubic) {\n    addEasing($);\n  }\n\n  //\n  $(window).resize(function() {\n    init_classic_menu_resize();\n  });\n\n  if (/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)) {\n    if (!$('html').hasClass('mobile')) {\n      $('html').addClass('mobile');\n    }\n  } else {\n    if (!$('html').hasClass('no-mobile')) {\n      $('html').addClass('no-mobile');\n    }\n  }\n\n  if (!('ontouchstart' in document.documentElement)) {\n    if (!document.documentElement.className.includes('no-touch')) {\n      document.documentElement.className += ' no-touch';\n    }\n  }\n};\n\nexport default menuSideEffects;\nexport { init_classic_menu, init_classic_menu_resize };\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AADA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAGA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AAKA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAKA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAIA;AACA;AAEA;AACA;AAKA;AACA;AAGA;AACA;AACA;AACA;AACA;AAQA;AACA;AAEA;AAGA;AACA;AACA;AAMA;AACA;AACA;AAEA;AACA;AACA;AACA;AAMA;AACA;AACA;AAEA;AACA;AACA;AACA;AAMA;AAMA;AACA;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}